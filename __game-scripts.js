var Follow=pc.createScript("follow");Follow.attributes.add("target",{type:"entity",title:"Target",description:"The Entity to follow"}),Follow.attributes.add("distance",{type:"number",default:4,title:"Distance",description:"How far from the Entity should the follower be"}),Follow.prototype.initialize=function(){this.vec=new pc.Vec3},Follow.prototype.update=function(t){if(this.target){var e=this.target.getPosition();e.x+=.75*this.distance,e.y+=1*this.distance,e.z+=.75*this.distance,this.vec.lerp(this.vec,e,.1),this.entity.setPosition(this.vec)}};var Movement=pc.createScript("movement");Movement.attributes.add("speed",{type:"number",default:.1,min:.05,max:.5,precision:2,description:"Controls the movement speed"}),Movement.prototype.initialize=function(){this.force=new pc.Vec3},Movement.prototype.update=function(e){var t=0,s=0;if(this.app.keyboard.isPressed(pc.KEY_LEFT)&&(t=-this.speed),this.app.keyboard.isPressed(pc.KEY_RIGHT)&&(t+=this.speed),this.app.keyboard.isPressed(pc.KEY_UP)&&(s=-this.speed),this.app.keyboard.isPressed(pc.KEY_DOWN)&&(s+=this.speed),this.force.x=t,this.force.z=s,this.force.length()){var i=Math.cos(.25*-Math.PI),o=Math.sin(.25*-Math.PI);this.force.set(this.force.x*i-this.force.z*o,0,this.force.z*i+this.force.x*o),this.force.length()>this.speed&&this.force.normalize().scale(this.speed)}this.entity.rigidbody.applyImpulse(this.force)};var Teleport=pc.createScript("teleport");Teleport.attributes.add("target",{type:"entity",title:"Target Entity",description:"The target entity where we are going to teleport"}),Teleport.prototype.initialize=function(){this.target&&this.entity.collision.on("triggerenter",this.onTriggerEnter,this)},Teleport.prototype.onTriggerEnter=function(t){t.script.teleportable&&t.script.teleportable.teleport(this.entity,this.target)};var Tablet=pc.createScript("tablet");Tablet.attributes.add("linkto",{type:"entity",description:"The particle effect to trigger when the Tablet is clicked"}),Tablet.prototype.initialize=function(){this.app.mouse.disableContextMenu(),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onSelect,this)},Tablet.prototype.update=function(t){},Tablet.prototype.onSelect=function(t){t.button===pc.MOUSEBUTTON_LEFT&&window.open("https://landing-golonai.netlify.app/")};var Teleportable=pc.createScript("teleportable");Teleportable.prototype.initialize=function(){this.lastTeleportFrom=null,this.lastTeleportTo=null,this.lastTeleport=Date.now(),this.startPosition=this.entity.getPosition().clone()},Teleportable.prototype.update=function(t){this.entity.getPosition().y<0&&this.teleport(this.lastTeleportFrom,this.lastTeleportTo)},Teleportable.prototype.teleport=function(t,e){var o;t&&Date.now()-this.lastTeleport<500||(this.lastTeleport=Date.now(),this.lastTeleportFrom=t,this.lastTeleportTo=e,e?(o=e.getPosition()).y+=.5:o=this.startPosition,this.entity.rigidbody.teleport(o),this.entity.rigidbody.linearVelocity=pc.Vec3.ZERO,this.entity.rigidbody.angularVelocity=pc.Vec3.ZERO)};var Television=pc.createScript("television");Television.prototype.initialize=function(){this.entity.element.on("mouseenter",this.onEnter,this),this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("mouseup",this.onRelease,this),this.entity.element.on("mouseleave",this.onLeave,this),this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("touchend",this.onRelease,this)},Television.prototype.onPress=function(e){this.app.fire("life",-10)},Television.prototype.update=function(e){};var BtnnewScene=pc.createScript("btnnewScene");BtnnewScene.attributes.add("sceneId",{type:"string",default:"0",title:"Scene ID to load"}),BtnnewScene.prototype.initialize=function(){this.entity.element.on("mouseenter",this.onEnter,this),this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("mouseup",this.onRelease,this),this.entity.element.on("mouseleave",this.onLeave,this),this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("touchend",this.onRelease,this)},BtnnewScene.prototype.onPress=function(e){this.app.root.findByName("Root").destroy(),this.loadScene(this.sceneId,(function(){}))},BtnnewScene.prototype.update=function(e){},BtnnewScene.prototype.loadScene=function(e,t){var n=e+".json";this.app.loadSceneHierarchy(n,(function(e,n){e?console.error(e):t(n)}))};var Click=pc.createScript("click");Click.attributes.add("textElement",{type:"entity"}),Click.prototype.initialize=function(){this.app.on("enddaymath",(function(t){this.mask=t}),this),this.app.on("randomseed",(function(t){console.log(t),this.randoms=t}),this),this.Health=1e3,this.mask=0,this.textElement.element.text=1e3,this.app.on("cal",(function(){0===this.randoms&&(console.log("seen 0"),1==this.mask&&(this.Health=this.Health-30),2==this.mask&&(this.Health=this.Health-50),3==this.mask&&(this.Health=this.Health-30),4==this.mask&&(this.Health=this.Health-80)),1===this.randoms&&(console.log("seen 1"),1==this.mask&&(this.Health=this.Health-40),2==this.mask&&(this.Health=this.Health-60),3==this.mask&&(this.Health=this.Health-30),4==this.mask&&(this.Health=this.Health-90)),2===this.randoms&&(console.log("seen 2"),1==this.mask&&(this.Health=this.Health-20),2==this.mask&&(this.Health=this.Health-30),3==this.mask&&(this.Health=this.Health-20),4==this.mask&&(this.Health=this.Health-60)),3===this.randoms&&(console.log("seen 3"),1==this.mask&&(this.Health=this.Health-25),2==this.mask&&(this.Health=this.Health-40),3==this.mask&&(this.Health=this.Health-25),4==this.mask&&(this.Health=this.Health-70)),4===this.randoms&&(console.log("seen 4"),1==this.mask&&(this.Health=this.Health-10),2==this.mask&&(this.Health=this.Health-10),3==this.mask&&(this.Health=this.Health-10),4==this.mask&&(this.Health=this.Health-20)),this.textElement.element.text=this.Health,this.Health<=0&&(this.textElement.element.text=0,console.log("END"),this.health=1e3,this.app.root.findByName("Gameover").enabled=!0)}),this)};var Tutortest=pc.createScript("tutor"),button=Tutortest.attributes.add("input",{type:"string",default:"0",title:"button"});Tutortest.prototype.initialize=function(){this.entity.element.on("mouseenter",this.onEnter,this),this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("mouseup",this.onRelease,this),this.entity.element.on("mouseleave",this.onLeave,this),this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("touchend",this.onRelease,this)},Tutortest.prototype.onPress=function(t){t.button===pc.MOUSEBUTTON_LEFT&&this.obj(this.input,(function(){}))},Tutortest.prototype.update=function(t){},Tutortest.prototype.obj=function(t,e){this.app.root.findByName(t).enabled=!1};var Tablettest=pc.createScript("tablettest"),url=Tablettest.attributes.add("urli",{type:"string",default:"0",title:"url"}),url2=Tablettest.attributes.add("urli2",{type:"string",default:"0",title:"url"});Tablettest.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this),this.app.mouse.disableContextMenu()},Tablettest.prototype.onPress=function(t){console.log(t.element.name),t.button===pc.MOUSEBUTTON_LEFT?this.loadweb(this.urli,(function(){})):t.button===pc.MOUSEBUTTON_RIGHT&&this.loadweb(this.urli2,(function(){}))},Tablettest.prototype.update=function(t){},Tablettest.prototype.loadweb=function(t){var e=t;window.open(e)};var TvTest=pc.createScript("tvTest");TvTest.attributes.add("textElement",{type:"entity"}),TvTest.attributes.add("textElement2",{type:"entity"}),TvTest.attributes.add("textElement3",{type:"entity"});var select=0;TvTest.prototype.initialize=function(){this.day=1,this.entity.element.on("mousedown",this.onPress,this)},TvTest.prototype.onPress=function(e){if(this.day=this.day+1,e.button===pc.MOUSEBUTTON_LEFT){var t=this.app;t.fire("cal"),t.fire("masked"),this.app.root.findByName("tvendday").enabled=!1,t.root.findByName("endday").enabled=!1,t.root.findByName("Daygone").enabled=!0,t.root.findByName("blackbox").enabled=!0,t.root.findByName("player").enabled=!1,this.textElement.element.text="day"+this.day,this.textElement2.element.text="day"+this.day,this.textElement3.element.text=this.day-1+" day",setTimeout((function(){t.root.findByName("Daygone").enabled=!1,t.root.findByName("blackbox").enabled=!1,t.root.findByName("player").enabled=!0,t.root.findByName("1").enabled=!1,t.root.findByName("2").enabled=!1,t.root.findByName("3").enabled=!1,t.root.findByName("4").enabled=!1}),1200)}};var Distv=pc.createScript("distv"),button=Distv.attributes.add("input",{type:"string",default:"0",title:"obj"});Distv.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},Distv.prototype.onPress=function(t){t.button===pc.MOUSEBUTTON_LEFT&&this.obj(this.input,(function(){}))},Distv.prototype.obj=function(t,i){this.app.root.findByName(t).enabled=!0};var Notv=pc.createScript("notv");Notv.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},Notv.prototype.onPress=function(t){t.button===pc.MOUSEBUTTON_LEFT&&(this.app.root.findByName("endday").enabled=!1)};var Mask=pc.createScript("mask");Mask.attributes.add("textElement",{type:"entity"});var select=Mask.attributes.add("mask",{type:"string",default:"0",title:"Choose"});Mask.select=0,Mask.prototype.initialize=function(){this.mask1=10,this.mask2=10,this.mask3=10,this.min1=9,this.min2=9,this.min3=9,this.max1=10,this.max2=10,this.max3=10,this.check=0,this.app.mouse.disableContextMenu(),this.entity.element.on("mousedown",this.onPress,this),this.app.on("masked",(function(){1===this.check&&(this.min1-=1,this.max1-=1,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),2===this.check&&(this.min2-=1,this.max2-=1,this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),3===this.check&&(this.min3-=1,this.max3-=1,this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),4===this.check&&(this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0),this.mask1<=0&&(this.app.root.findByName("N95text").enabled=!1,this.app.root.findByName("N95Button").enabled=!1,this.app.root.findByName("N95").enabled=!1),this.mask2<=0&&(this.app.root.findByName("MedicalMaskText").enabled=!1,this.app.root.findByName("MedicalButton").enabled=!1,this.app.root.findByName("MedicalMask").enabled=!1),this.mask3<=0&&(this.app.root.findByName("FFP1text").enabled=!1,this.app.root.findByName("FFP1Button").enabled=!1,this.app.root.findByName("FFP1").enabled=!1)}),this)},Mask.prototype.onPress=function(t){(t.button===pc.MOUSEBUTTON_LEFT||t.button===pc.MOUSEBUTTON_RIGHT)&&this.select(this.mask,(function(){}))},Mask.prototype.select=function(t){event.button===pc.MOUSEBUTTON_LEFT?(this.app.fire("enddaymath",t),this.app.root.findByName("1").enabled=!1,this.app.root.findByName("2").enabled=!1,this.app.root.findByName("3").enabled=!1,this.app.root.findByName("4").enabled=!1,this.app.root.findByName(t).enabled=!0,this.app.root.findByName("tvendday").enabled=!0,this.mask1>this.min1&&"1"===t&&(this.mask1=this.mask1-1,this.textElement.element.text=this.mask1,this.check=1,this.app.root.findByName("MedicalButton").enabled=!1,this.app.root.findByName("FFP1Button").enabled=!1,this.app.root.findByName("FilterButton").enabled=!1),this.mask2>this.min2&&"2"===t&&(this.mask2=this.mask2-1,this.textElement.element.text=this.mask2,this.check=2,this.app.root.findByName("N95Button").enabled=!1,this.app.root.findByName("FFP1Button").enabled=!1,this.app.root.findByName("FilterButton").enabled=!1),this.mask3>this.min3&&"3"===t&&(this.mask3=this.mask3-1,this.textElement.element.text=this.mask3,this.check=3,this.app.root.findByName("N95Button").enabled=!1,this.app.root.findByName("MedicalButton").enabled=!1,this.app.root.findByName("FilterButton").enabled=!1),"4"===t&&(this.check=4,this.app.root.findByName("N95Button").enabled=!1,this.app.root.findByName("MedicalButton").enabled=!1,this.app.root.findByName("FFP1Button").enabled=!1)):event.button===pc.MOUSEBUTTON_RIGHT&&(this.mask1<this.max1&&"1"===t&&(this.mask1=this.mask1+1,this.textElement.element.text=this.mask1,this.check=0,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),this.mask2<this.max2&&"2"===t&&(this.mask2=this.mask2+1,this.textElement.element.text=this.mask2,this.check=0,this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),this.mask3<this.max3&&"3"===t&&(this.mask3=this.mask3+1,this.textElement.element.text=this.mask3,this.check=0,this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FilterButton").enabled=!0),"4"===t&&(this.check=0,this.app.root.findByName("N95Button").enabled=!0,this.app.root.findByName("MedicalButton").enabled=!0,this.app.root.findByName("FFP1Button").enabled=!0),this.app.root.findByName(t).enabled=!1,this.app.root.findByName("tvendday").enabled=!1)};var Randomevent=pc.createScript("randomevent");Randomevent.prototype.initialize=function(){this.entity.element.on("mousedown",this.onPress,this)},Randomevent.prototype.onPress=function(e){var n=pc.math.roundUp(pc.math.random(0,5),1)-1,o=this.app;o.fire("randomseed",n),console.log(n),0===n&&(o.root.findByName("event0").enabled=!0,o.root.findByName("event1").enabled=!1,o.root.findByName("event2").enabled=!1,o.root.findByName("event3").enabled=!1,o.root.findByName("event4").enabled=!1,o.root.findByName("Boardbutton0").enabled=!0,o.root.findByName("Boardbutton1").enabled=!1,o.root.findByName("Boardbutton2").enabled=!1,o.root.findByName("Boardbutton3").enabled=!1,o.root.findByName("Boardbutton4").enabled=!1),1===n&&(o.root.findByName("event0").enabled=!1,o.root.findByName("event1").enabled=!0,o.root.findByName("event2").enabled=!1,o.root.findByName("event3").enabled=!1,o.root.findByName("event4").enabled=!1,o.root.findByName("Boardbutton0").enabled=!1,o.root.findByName("Boardbutton1").enabled=!0,o.root.findByName("Boardbutton2").enabled=!1,o.root.findByName("Boardbutton3").enabled=!1,o.root.findByName("Boardbutton4").enabled=!1),2===n&&(o.root.findByName("event0").enabled=!1,o.root.findByName("event1").enabled=!1,o.root.findByName("event2").enabled=!0,o.root.findByName("event3").enabled=!1,o.root.findByName("event4").enabled=!1,o.root.findByName("Boardbutton0").enabled=!1,o.root.findByName("Boardbutton1").enabled=!1,o.root.findByName("Boardbutton2").enabled=!0,o.root.findByName("Boardbutton3").enabled=!1,o.root.findByName("Boardbutton4").enabled=!1),3===n&&(o.root.findByName("event0").enabled=!1,o.root.findByName("event1").enabled=!1,o.root.findByName("event2").enabled=!1,o.root.findByName("event3").enabled=!0,o.root.findByName("event4").enabled=!1,o.root.findByName("Boardbutton0").enabled=!1,o.root.findByName("Boardbutton1").enabled=!1,o.root.findByName("Boardbutton2").enabled=!1,o.root.findByName("Boardbutton3").enabled=!0,o.root.findByName("Boardbutton4").enabled=!1),4===n&&(o.root.findByName("event0").enabled=!1,o.root.findByName("event1").enabled=!1,o.root.findByName("event2").enabled=!1,o.root.findByName("event3").enabled=!1,o.root.findByName("event4").enabled=!0,o.root.findByName("Boardbutton0").enabled=!1,o.root.findByName("Boardbutton1").enabled=!1,o.root.findByName("Boardbutton2").enabled=!1,o.root.findByName("Boardbutton3").enabled=!1,o.root.findByName("Boardbutton4").enabled=!0)},Randomevent.prototype.update=function(e){};var UnEnabled=pc.createScript("unEnabled");UnEnabled.prototype.initialize=function(){app=this.app,this.entity.element.on("mousedown",this.onPress,this)},UnEnabled.prototype.onPress=function(){event.button===pc.MOUSEBUTTON_LEFT&&(app.root.findByName("N95Button").enabled=!0,app.root.findByName("MedicalButton").enabled=!0,app.root.findByName("FFP1Button").enabled=!0,app.root.findByName("FilterButton").enabled=!0,app.root.findByName("Button_for_tablet").enabled=!0,app.root.findByName("task").enabled=!0,app.root.findByName("tvendday").enabled=!1)};var Mainmenu=pc.createScript("mainmenu");Mainmenu.attributes.add("sceneId",{type:"string",default:"0",title:"Scene ID to load"}),Mainmenu.prototype.initialize=function(){this.entity.element.on("mouseenter",this.onEnter,this),this.entity.element.on("mousedown",this.onPress,this),this.entity.element.on("mouseup",this.onRelease,this),this.entity.element.on("mouseleave",this.onLeave,this),this.entity.element.on("touchstart",this.onPress,this),this.entity.element.on("touchend",this.onRelease,this)},Mainmenu.prototype.onPress=function(e){window.location.reload()},Mainmenu.prototype.update=function(e){};

//# sourceMappingURL=__game-scripts.js.map